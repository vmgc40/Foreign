# ä»¥å¤ªåŠç§æœ‰é“¾åˆ›å»ºåŠæ™ºèƒ½åˆçº¦çš„éƒ¨ç½²ä¸Žäº¤äº’æŒ‡å—

## ä¸€ã€ç§æœ‰é“¾æ­å»ºå…¨æµç¨‹è¯¦è§£

### 1. åˆ›ä¸–åŒºå—é…ç½®æ–‡ä»¶åˆ›å»º
è¦æž„å»ºä»¥å¤ªåŠç§æœ‰é“¾ï¼Œé¦–å…ˆéœ€è¦å®šä¹‰åˆ›ä¸–åŒºå—çš„é…ç½®æ–‡ä»¶`genesis.json`ã€‚è¯¥æ–‡ä»¶åŒ…å«åŒºå—é“¾çš„æ ¸å¿ƒå‚æ•°ï¼Œä»¥ä¸‹æ˜¯å…³é”®å‚æ•°è§£æžï¼š

| å‚æ•°å      | ä½œç”¨è¯´æ˜Ž                          | æŽ¨èå€¼è®¾ç½®                 |
|-------------|-----------------------------------|--------------------------|
| nonce       | æŒ–çŸ¿éšæœºæ•°ç§å­                    | 0x0000000000000042       |
| difficulty  | åŒºå—ç”Ÿæˆéš¾åº¦                      | 0x020000ï¼ˆä½Žéš¾åº¦æ¨¡å¼ï¼‰   |
| gasLimit    | å•åŒºå—Gasä¸Šé™                     | 0x4c4b40ï¼ˆçº¦500ä¸‡Gasï¼‰   |
| chainId     | é“¾å”¯ä¸€æ ‡è¯†ç¬¦                      | è‡ªå®šä¹‰æ•°å­—ï¼ˆå¦‚0x123456ï¼‰ |

```json
{
  "nonce": "0x0000000000000042",
  "difficulty": "0x020000",
  "mixhash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "coinbase": "0x0000000000000000000000000000000000000000",
  "timestamp": "0x00",
  "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
  "extraData": "0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",
  "gasLimit": "0x4c4b40",
  "alloc": {}
}
```

ðŸ‘‰ [åŒºå—é“¾å¼€å‘è€…å¿…å¤‡å·¥å…·åŒ…](https://bit.ly/okx_welcome)

### 2. èŠ‚ç‚¹åˆå§‹åŒ–ä¸Žå¯åŠ¨
åˆ›å»ºæ•°æ®å­˜å‚¨ç›®å½•åŽï¼Œæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ï¼š
```bat
geth --identity "ç§æœ‰é“¾æµ‹è¯•" --datadir "%cd%\\data" init genesis.json
```

å¯åŠ¨ç§æœ‰é“¾èŠ‚ç‚¹ï¼š
```bat
geth --identity "ç§æœ‰é“¾æµ‹è¯•" --datadir data --networkid 123456 
--rpc --rpcaddr="0.0.0.0" --rpccorsdomain "*" --port "30303" 
--rpcapi "db,eth,net,web3" --nodiscover console
```

**å…³é”®å‚æ•°è§£æžï¼š**
- `networkid`ï¼šç½‘ç»œå”¯ä¸€æ ‡è¯†ï¼ˆå»ºè®®ä½¿ç”¨123456ï¼‰
- `rpcapi`ï¼šå¯ç”¨çš„APIæ¨¡å—ï¼ˆå»ºè®®åŒ…å«db,eth,net,web3ï¼‰
- `port`ï¼šP2Pç«¯å£ï¼ˆé»˜è®¤30303ï¼‰

## äºŒã€æ™ºèƒ½åˆçº¦å¼€å‘ä¸Žéƒ¨ç½²å®žæˆ˜

### 1. ä»£å¸åˆçº¦å¼€å‘
ä½¿ç”¨Solidityç¼–å†™åŸºç¡€ä»£å¸åˆçº¦ï¼š
```solidity
pragma solidity ^0.4.2;

contract Token {
    address issuer;
    mapping (address => uint) balances;
    
    event Issue(address account, uint amount);
    event Transfer(address from, address to, uint amount);

    function Token() {
        issuer = msg.sender;
    }

    function issue(address account, uint amount) {
        if (msg.sender != issuer) throw;
        balances[account] += amount;
    }

    function transfer(address to, uint amount) {
        if (balances[msg.sender] < amount) throw;
        balances[msg.sender] -= amount;
        balances[to] += amount;
    }

    function getBalance(address account) constant returns (uint) {
        return balances[account];
    }
}
```

ðŸ‘‰ [åŒºå—é“¾é¡¹ç›®å®žæˆ˜æ•™ç¨‹åˆé›†](https://bit.ly/okx_welcome)

### 2. åˆçº¦ç¼–è¯‘ä¸Žéƒ¨ç½²
é€šè¿‡[Remixåœ¨çº¿ç¼–è¯‘å™¨](https://ethereum.github.io/browser-solidity/)ç”Ÿæˆå­—èŠ‚ç åŽï¼Œä½¿ç”¨GethæŽ§åˆ¶å°éƒ¨ç½²ï¼š
```javascript
var tokenContract = web3.eth.contract(ABI);
var token = tokenContract.new({
    from: web3.eth.accounts[0],
    data: '0x6060604052...',
    gas: '4300000'
}, function(e, contract) {
    if (typeof contract.address !== 'undefined') {
        console.log('åˆçº¦åœ°å€:', contract.address);
    }
});
```

## ä¸‰ã€åŒºå—é“¾äº¤äº’æŠ€æœ¯è§£æž

### 1. JSON-RPCæŽ¥å£è°ƒç”¨
ä½¿ç”¨eth_sendTransactionè¿›è¡Œä»£å¸è½¬è´¦ï¼š
```json
{
  "jsonrpc": "2.0",
  "method": "eth_sendTransaction",
  "params": [{
    "from": "0x123456...",
    "to": "0xåˆçº¦åœ°å€",
    "data": "0xa9059cbb000000000000000000000000æŽ¥æ”¶åœ°å€0000000000000000000000000000000000000000000000000000000000000032"
  }]
}
```

### 2. äº¤æ˜“çŠ¶æ€æŸ¥è¯¢
ä½¿ç”¨eth_getTransactionReceiptèŽ·å–äº¤æ˜“è¯¦æƒ…ï¼š
```json
{
  "jsonrpc": "2.0",
  "method": "eth_getTransactionReceipt",
  "params": ["0xäº¤æ˜“å“ˆå¸Œ"],
  "id": 1
}
```

## å››ã€é«˜é¢‘é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰

Qï¼šç§æœ‰é“¾åˆå§‹åŒ–æ—¶æç¤º"no chain configuration found"é”™è¯¯ï¼Ÿ
Aï¼šè¯·æ£€æŸ¥genesis.jsonæ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿JSONæ ¼å¼æ— è¯­æ³•é”™è¯¯

Qï¼šéƒ¨ç½²åˆçº¦æ—¶æç¤º"out of gas"æ€Žä¹ˆåŠžï¼Ÿ
Aï¼šé€‚å½“å¢žåŠ gaså‚æ•°å€¼ï¼Œå»ºè®®è®¾ç½®ä¸º4300000ï¼ˆçº¦430ä¸‡Gasï¼‰

Qï¼šå¦‚ä½•éªŒè¯æ™ºèƒ½åˆçº¦æ˜¯å¦éƒ¨ç½²æˆåŠŸï¼Ÿ
Aï¼šä½¿ç”¨eth.getCode(åˆçº¦åœ°å€)å‘½ä»¤æŸ¥è¯¢ï¼Œè¿”å›žéž0xå³ä¸ºæˆåŠŸ

Qï¼šJSON-RPCæŽ¥å£è¿”å›ž"invalid sender"é”™è¯¯ï¼Ÿ
Aï¼šè¯·ç¡®ä¿fromåœ°å€å·²è§£é”ï¼Œä½¿ç”¨personal.unlockAccountè¿›è¡Œè§£é”

Qï¼šå¦‚ä½•æŸ¥çœ‹å½“å‰åŒºå—é“¾é«˜åº¦ï¼Ÿ
Aï¼šæ‰§è¡Œeth.blockNumberå‘½ä»¤ï¼Œè¿”å›žå½“å‰åŒºå—æ•°é‡

## äº”ã€åŒºå—é“¾å¼€å‘æœ€ä½³å®žè·µ

1. **Gasç®¡ç†æŠ€å·§**
   - æµ‹è¯•çŽ¯å¢ƒå»ºè®®è®¾ç½®gasLimitä¸º0x7A1200ï¼ˆçº¦800ä¸‡ï¼‰
   - ä½¿ç”¨eth.estimateGasé¢„ä¼°äº¤æ˜“Gasæ¶ˆè€—

2. **å®‰å…¨é˜²æŠ¤æŽªæ–½**
   - ç”Ÿäº§çŽ¯å¢ƒç¦ç”¨`--nodiscover`å‚æ•°
   - é™åˆ¶`--rpcaddr`ä¸ºå†…ç½‘IP
   - è®¾ç½®åˆç†çš„`--rpccorsdomain`ç™½åå•

3. **æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ**
   - å¯åŠ¨æ—¶æ·»åŠ `--cache=1024`æå‡åŒæ­¥é€Ÿåº¦
   - ä½¿ç”¨`--maxpeers`æŽ§åˆ¶èŠ‚ç‚¹è¿žæŽ¥æ•°